<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Cifrador / Descifrador Simple</title>
</head>
<body>
    <h1>Cifrador / Descifrador</h1>

    <label>Texto:</label><br>
    <input type="text" id="text" value="hola mundo"><br><br>

    <label>Clave:</label><br>
    <input type="text" id="key" value="faustinianodecorazon"><br><br>

    <button onclick="cifrar()">Cifrar</button>
    <button onclick="descifrar()">Descifrar</button>

    <h3>Resultado:</h3>
    <div id="result"></div>

    <script>
        async function cifrar() {
            const text = document.getElementById('text').value;
            const key = document.getElementById('key').value;

            const res = await fetch('http://localhost:8082/cripto/cifrar', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ encryptText: text, key: key })
            });

            const data = await res.text(); // <-- texto plano
            document.getElementById('result').innerText = data;
        }

        async function descifrar() {
            const text = document.getElementById('text').value;
            const key = document.getElementById('key').value;

            const res = await fetch('http://localhost:8082/cripto/descifrar', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ encryptText: text, key: key })
            });

            const data = await res.text(); // <-- texto plano
            document.getElementById('result').innerText = data;
        }
    </script>
</body>
</html>
